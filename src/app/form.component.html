<div class='form-container'>
  <div >
    <p class="title">Новая задача</p>
  </div >
  <form novalidate [formGroup]="todoForm" class='form-container'>
    <p>
      <mat-form-field class = "form">
        <input matInput formControlName="text" placeholder="Название задачи..." type="text" required>
      </mat-form-field>
    </p>
      <mat-form-field class = "form">
        <mat-select formControlName="category" [(value)]="defaultOption" placeholder='Выберите категорию'>
          <mat-option  *ngFor="let category of categories" [value]="category.id">
            {{category.title}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    <div *ngIf="todoForm.value.category === 0">
      <p>
      <mat-form-field class = "form">
        <input matInput formControlName="title" placeholder="Название новой категории..." type="text">
      </mat-form-field>
      </p>
    </div>

    <div class='buttons'>
    <button mat-raised-button class="button" (click)="onNoClick()">отмена</button>
    <button mat-raised-button class="button" (click)="onSubmit()" [disabled]='todoForm.invalid'>ок</button>
    </div>
  </form>
</div>
